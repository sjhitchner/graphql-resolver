{{ range $m := .Models }}
type {{ camel $m.Name }} {
{{- range $f := $m.Fields }}
{{- if $f.ShouldExpose }}
	{{ lcamel $f.Name }}: {{ gqltype $f }}!
{{- end }}
{{- end }}
}
{{ end }}

type Query {
	ping: String!
{{ range $m := .Models }}
	{{ lcamel $m.Name }}(id: ID!): User!
	{{ lcamel $m.Plural }}List(first Integer!, after ID!): [User!]!
{{ end -}}
}

{{- range $m := .Models }}
{{ template "ModelMutations" $m}}
{{- end }}

type Mutation {
{{- range $m := .Models }}
	{{ template "ModelMutationDefinitions" $m}}
{{- end }}
}

schema {
	query: Query
	mutation: Mutation
}
